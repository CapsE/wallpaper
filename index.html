<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wallpaper</title>
</head>
<body>
<canvas id="wrapper">

</canvas>

<script src="jquery-3.1.1.min.js"></script>
<script src="perlin.js"></script>
<script>
    var offset = 0;
    var countX = window.innerWidth;
    var countY = window.innerHeight;
    var ctx = document.getElementById("wrapper").getContext("2d");
    var x = Math.random() * countX;
    var y = Math.random() * countY;
    var lastX = x;
    var lastY = y;
    var speed = 0.5;
    $(document).ready(function(){

        var $body = $("#wrapper");
        noise.seed(Math.random());
        $("#wrapper").attr("width", countX);
        $("#wrapper").attr("height", countY);
        setInterval(function () {
            step();
        }, 25);

        ctx.fillStyle="#FAFAFA";
        ctx.fillRect(0,0,countX, countY);
    });

    function step() {
        offset++;
        var r = parseInt(((noise.simplex3((offset) / 200, 1000, 0) +1)/2)*255);
        var g = parseInt(((noise.simplex3((offset) / 200, 1000, 100)+1)/2)*255);
        var b = parseInt(((noise.simplex3((offset) / 200, 1000, 200)+1)/2)*255);

        x =  ((noise.simplex2((offset) / (200/speed), 300)) + 1) /2*countX;
        y =  ((noise.simplex2((offset) / (200/speed), 400)) + 1) /2*countY;


        ctx.fillStyle="rgba(255,255,255,0.1)";
        ctx.fillRect(0,0,countX, countY);

        ctx.fillStyle="rgb(" + r + "," + g + "," + b + ")";
        ctx.beginPath();
        ctx.arc(x,y,50,0,2*Math.PI);
        ctx.fill();

        x =  ((noise.simplex2((offset+5) / (200/speed), 300.05)) + 1) /2*countX;
        y =  ((noise.simplex2((offset+5) / (200/speed), 400.05)) + 1) /2*countY;
        ctx.beginPath();
        ctx.arc( x, y,50,0,2*Math.PI);
        ctx.fill();

        x =  ((noise.simplex2((offset+10) / (200/speed), 300.1)) + 1) /2*countX;
        y =  ((noise.simplex2((offset+10) / (200/speed), 400.1)) + 1) /2*countY;
        ctx.beginPath();
        ctx.arc(x,  y,50,0,2*Math.PI);
        ctx.fill();
        x =  ((noise.simplex2((offset+15) / (200/speed), 300.15)) + 1) /2*countX;
        y =  ((noise.simplex2((offset+15) / (200/speed), 400.15)) + 1) /2*countY;
        ctx.beginPath();
        ctx.arc( x,  y,50,0,2*Math.PI);
        ctx.fill();

    }

    $(document).click(function(){
        step();
    });

</script>
<style>
    html, body{
        padding:0px;
        margin:0px;
        width:100%;
        height:100%;
        overflow:hidden;
    }

    @keyframes rotate {
       0%{ transform: rotate(0deg)}
       100%{ transform: rotate(360deg)}
    }
</style>
</body>
</html>